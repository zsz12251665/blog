<h1>POJ 3233</h1>
<p><time>2017-03-23 20:36</time> by zsz12251665</p>
<section>
	<h2>Problem</h2>
	<ul class="buttonList">
		<a target="_blank" href="https://vjudge.net/problem/POJ-3233"><li>Virtual Judge</li></a>
		<a target="_blank" href="http://poj.org/problem?id=3233"><li>POJ</li></a>
	</ul>
</section>
<section>
	<h2>Solution</h2>
	<p>This problem is about the matrix multiplication. For two <data value="v{n}o{&times;}v{n}"></data> matrices <data value="v{A}"></data> and <data value="v{B}"></data>, their product <data value="v{P}"></data> can be calculated according to <data value="v{P}b{v{i}o{,}v{j}}o{=}o{&sum;}i{v{n}l{}v{c}o{=}c{1}}o{(}v{A}b{v{i}o{,}v{c}}o{}v{B}b{v{c}o{,}v{j}}o{)}"></data>. For example, the product of two matrices <data value="o{[}m{v{a}b{c{1}o{,}c{1}}l{}v{a}b{c{2}o{,}c{1}}}o{&nbsp;}m{v{a}b{c{1}o{,}c{2}}l{}v{a}b{c{2}o{,}c{2}}}o{]}"></data> and <data value="o{[}m{v{b}b{c{1}o{,}c{1}}l{}v{b}b{c{2}o{,}c{1}}}o{&nbsp;}m{v{b}b{c{1}o{,}c{2}}l{}v{b}b{c{2}o{,}c{2}}}o{]}"></data> is <data value="o{[}m{v{a}b{c{1}o{,}c{1}}o{}v{b}b{c{1}o{,}c{1}}o{+}v{a}b{c{1}o{,}c{2}}o{}v{b}b{c{2}o{,}c{1}}l{}v{a}b{c{2}o{,}c{1}}o{}v{b}b{c{1}o{,}c{1}}o{+}v{a}b{c{2}o{,}c{2}}o{}v{b}b{c{2}o{,}c{1}}}o{&nbsp;}m{v{a}b{c{1}o{,}c{1}}o{}v{b}b{c{1}o{,}c{2}}o{+}v{a}b{c{1}o{,}c{2}}o{}v{b}b{c{2}o{,}c{2}}l{}v{a}b{c{2}o{,}c{1}}o{}v{b}b{c{1}o{,}c{2}}o{+}v{a}b{c{2}o{,}c{2}}o{}v{b}b{c{2}o{,}c{2}}}o{]}"></data>. So we can calculate the product of two matrices in <data value="o{O}o{(}v{n}p{3}o{)}"></data>. But how should we calculate their sum? As we all know, the matrix multiplication has the associative property, so we'll have <data value="v{S}o{=}o{&sum;}i{v{k}l{}v{i}o{=}c{1}}v{A}p{v{i}}o{=}f{v{A}p{v{i}o{+}c{1}}o{-}v{I}l{}v{A}o{-}v{I}}o{-}v{I}"></data>, which <data value="v{I}"></data> is the identity matrix. However, it is difficult to calculate the matrix division. So we need to think another way. </p>
	<p>The best method is, if we know <data value="o{&sum;}i{c{2}p{v{t}}l{}v{i}o{=}c{1}}v{A}p{v{i}}"></data>, then <data value="o{&sum;}i{c{2}p{v{t}o{+}c{1}}l{}v{i}o{=}c{1}}v{A}p{v{i}}"></data> would be <data value="o{&sum;}i{c{2}p{v{t}}l{}v{i}o{=}c{1}}v{A}p{v{i}}o{+}v{A}p{c{2}p{v{t}}}o{}o{&sum;}i{c{2}p{v{t}}l{}v{i}o{=}c{1}}v{A}p{v{i}}"></data>. So we may be able to convert <data value="v{k}"></data> into binary, and then add the sum according to the binary. That makes the solution. </p>
</section>
<section>
	<h2>Code</h2>
	<section>
		<h3>Pascal</h3>
		<code lang="pas"></code>
	</section>
	<section>
		<h3>C++</h3>
		<code lang="cpp"></code>
	</section>
</section>
