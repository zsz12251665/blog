<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<title>POJ 1088 - zsz12251665's Blog</title>
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="stylesheet" type="text/css" href="/codes/style.css" />
	</head>
	<body>
		<h2 align="center">POJ 1088</h2>
		<time>2017-06-21 19:34 by zsz12251665</time>
		<h3>Problem</h3>
		<section class="btnfield">
			<a target="_blank" href="https://vjudge.net/problem/POJ-1088">vjudge</a>
			<a target="_blank" href="http://poj.org/problem?id=1088">POJ</a>
		</section>
		<h3>Solution</h3>
		<section>
			<p>First of all, I thought it can be solved by a <abbr title="Breadth-First Search">BFS</abbr> from the lowest point. And I got a <abbr title="Wrong Answer">WA</abbr>. However, I didn't realize my mistake until someone told me a possible situation like <var>@8@4@ @9@5@ @1@6@ @8@7@ @8@8@</var>. </p>
			<p>Obviously, the longest length is 5. But it is not from the highest point or the lowest. I have to search every point to make sure the length I find is the longest. So I use a kind of memorable search to make the time shorter. So when I search a point, if it has been searched, the search function will return the answer immediately. Or it will search the four points beside it and return the lonest length plus 1. That means <var>#length#(_#x#,#y#_)=max(#length#(_#x#-1,#y#_),#length#(_#x#,#y#-1_),#length#(_#x#+1,#y#_),#length#(_#x#,#y#+1_))+1</var>. </p>
		</section>
		<h3>Code</h3>
		<section>
			<p>Pascal</p>
			<code>
				var
				`height,length:array[1..10000,1..10000]of integer;
				`r,c,ans,i,j:integer;
				function search(x,y:integer):integer;//Search function
				var
				`max:integer;
				begin
				`if length[x,y]&lt;&gt;0 then//If the point has been searched, return the answer
				``exit(length[x,y]);
				`max:=0;//Search the longest length
				`if (x&gt;1)and(height[x-1,y]&lt;height[x,y])and(search(x-1,y)&gt;max) then
				``max:=length[x-1,y];
				`if (y&gt;1)and(height[x,y-1]&lt;height[x,y])and(search(x,y-1)&gt;max) then
				``max:=length[x,y-1];
				`if (x&lt;r)and(height[x+1,y]&lt;height[x,y])and(search(x+1,y)&gt;max) then
				``max:=length[x+1,y];
				`if (y&lt;c)and(height[x,y+1]&lt;height[x,y])and(search(x,y+1)&gt;max) then
				``max:=length[x,y+1];
				`length[x,y]:=max+1;//Do not forget to plus 1, or you'll forget to count this point
				`exit(length[x,y]);
				end;
				begin
				`read(r,c);
				`for i:=1 to r do
				``for j:=1 to c do
				```begin
				````length[i,j]:=0;//Format the length array
				````read(height[i,j]);
				```end;
				`ans:=0;//Search the longest length of each point and keep the longest one
				`for i:=1 to r do
				``for j:=1 to c do
				```if search(i,j)&gt;ans then
				````ans:=length[i,j];
				`write(ans);
				end.
			</code>
			<p>C++</p>
			<code>
				#include&lt;cstdio&gt;
				int height[100][100],length[100][100],r,c;
				int search(int x,int y)//Search function
				{
				`if(length[x][y]!=0)//If the point has been searched, return the answer
				``return length[x][y];
				`int max=0;//Search the longest length
				`if((x&gt;0)&amp;&amp;(height[x-1][y]&lt;height[x][y])&amp;&amp;(search(x-1,y)&gt;max))
				``max=length[x-1][y];
				`if((y&gt;0)&amp;&amp;(height[x][y-1]&lt;height[x][y])&amp;&amp;(search(x,y-1)&gt;max))
				``max=length[x][y-1];
				`if((x&lt;r-1)&amp;&amp;(height[x+1][y]&lt;height[x][y])&amp;&amp;(search(x+1,y)&gt;max))
				``max=length[x+1][y];
				`if((y&lt;c-1)&amp;&amp;(height[x][y+1]&lt;height[x][y])&amp;&amp;(search(x,y+1)&gt;max))
				``max=length[x][y+1];
				`length[x][y]=max+1;//Do not forget to plus 1, or you'll forget to count this point
				`return length[x][y];
				}
				int main()
				{
				`scanf("%d%d",&amp;r,&amp;c);
				`for(int i=0;i&lt;r;i++)
				``for(int j=0;j&lt;c;j++)
				``{
				```length[i][j]=0;//Format the length array
				```scanf("%d",&amp;height[i][j]);
				``}
				`int ans=0;//Search the longest length of each point and keep the longest one
				`for(int i=0;i&lt;r;i++)
				``for(int j=0;j&lt;c;j++)
				```if(search(i,j)&gt;ans)
				````ans=length[i][j];
				`printf("%d",ans);
				`return 0;
				}
			</code>
		</section>
		<script type="text/javascript" src="/add-on/article/article.js"></script>
		<script type="text/javascript" src="/add-on/highlight/highlight.js"></script>
		<script type="text/javascript" src="/add-on/math/math.js"></script>
	</body>
</html>
