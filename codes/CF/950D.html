<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<title>CF 950D - zsz12251665's Blog</title>
		<link rel="shortcut icon" href="/favicon.ico" />
	</head>
	<body class="matrix">
		<h2 align="center">CF 950D</h2>
		<time>2018-03-10 12:00 by zsz12251665</time>
		<h3>Problem</h3>
		<section class="btnfield">
			<a target="_blank" href="https://vjudge.net/problem/CodeForces-950D">vjudge</a>
			<a target="_blank" href="https://codeforces.com/problemset/problem/950/D">Codeforces</a>
		</section>
		<h3>Solution</h3>
		<section>
			<p>Yesterday, I joined the <a target="_blank" href="https://codeforces.com/contest/950/">Codeforces Round #469 (Div. 2)</a>, which is my first Codeforces contest. Here are some of my solution. </p>
			<p>When I saw the problem, I notice that <var>1&le;#n#&le;10(^18^)</var>. "It must be an <var>O(#q#lg(#n#))</var> problem." I thought, "or it can't be as large as <var>10(^18^)</var>." Of cource we could not preprocess all <var>#n#</var> numbers before we read the questions because we just had 2 seconds. Then I tried simulating the operations on my notebook. while simulating, I realized that the operations are retrospective. For example, if we wanted to know the second number in the array, we could ask ourselves what the <var>(#n#+1)</var>-th number is. And if I wanted the <var>#q#</var>-th one, the answer would be the <var>(#n#+/#q#/2/)</var>-th one. What's more, the time complexity of the algorithm is <var>O(lg(#n#))</var>. So the problem is solved. </p>
		</section>
		<h3>Code</h3>
		<section>
			<p>Pascal</p>
			<code>
				var
				`n,x:int64;
				`q,i:integer;
				begin
				`read(n,q);
				`for i:=1 to q do
				``begin
				```read(x);
				```while x mod 2=0 do//All number was in an odd-indexed cell at first, so we just need to retrospect the ones in even-indexed cell
				````x:=n+x div 2;
				```writeln((x+1) div 2);
				``end;
				end.
			</code>
			<p>C++</p>
			<code>
				#include&lt;cstdio&gt;
				int main()
				{
				`long long n,x;
				`int q;
				`scanf("%lld%d",&amp;n,&amp;q);
				`for(int i=0;i&lt;q;i++)
				`{
				``scanf("%lld",&amp;x);
				``while(x%2==0)//All number was in an odd-indexed cell at first, so we just need to retrospect the ones in even-indexed cell
				```x=n+(x/2);
				``printf("%lld\n",(x+1)/2);
				`}
				`return 0;
				}
			</code>
		</section>
		<script type="text/javascript" src="/add-on/article/article.js"></script>
		<script type="text/javascript" src="/add-on/highlight/highlight.js"></script>
		<script type="text/javascript" src="/add-on/math/math.js"></script>
	</body>
</html>
