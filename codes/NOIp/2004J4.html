<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<title>NOIp 2004J4 - zsz12251665's Blog</title>
		<link rel="shortcut icon" href="/favicon.ico" />
	</head>
	<body class="matrix">
		<h2 align="center">NOIp 2004J4</h2>
		<time>2017-04-26 11:26 by zsz12251665</time>
		<h3>Problem</h3>
		<section class="btnfield">
			<a target="_blank" href="https://www.luogu.org/problemnew/show/P1088">Luogu</a>
			<a target="_blank" href="https://www.vijos.org/p/1115">Vijos</a>
		</section>
		<h3>Solution</h3>
		<section>
			<p>I have to admit that the full arragement confused me for a while, but later I found a way. I made a find function to find if there is another finger next to the finger I am using. If there is, it'll return the number of the next finger, or it'll return -1. If it return -1, it means that I need to carry on the previous bit. So the add function is used to add a number to the current bit. What's more, the used array is used to keep whether the finger is used or not so that I can find the next finger faster. That's the solution. </p>
		</section>
		<h3>Code</h3>
		<section>
			<p>Pascal</p>
			<code>
				var
				`finger:array[1..10000]of integer;
				`used:array[1..10000]of boolean;
				`n,m,i:integer;
				function find(a:integer):integer;
				var
				`i:integer;
				begin
				`for i:=a+1 to n do
				``if not(used[i]) then//If there is another finger that is not used
				```exit(i);
				`exit(-1);
				end;
				procedure add(a:integer);
				begin
				`used[finger[a]]:=false;
				`if find(finger[a])=-1 then
				``begin
				```add(a-1);//Carry on the previous bit
				```finger[a]:=find(0);//Find the smallest finger that is not used
				``end
				`else
				``finger[a]:=find(finger[a]);
				`used[finger[a]]:=true;
				end;
				begin
				`read(n,m);
				`for i:=1 to n do
				``begin
				```read(finger[i]);
				```used[finger[i]]:=true;
				``end;
				`for i:=1 to m do//To add m, just add 1 for m times
				``add(n);
				`for i:=1 to n do
				``write(finger[i],' ');
				end.
			</code>
			<p>C++</p>
			<code>
				#include&lt;cstdio&gt;
				int finger[10000],used[10001],n;
				int find(int a)
				{
				`for(int i=a+1;i&lt;=n;i++)
				``if(used[i]==0)//If there is another finger that is not used
				```return i;
				`return -1;
				}
				void add(int a)
				{
				`used[finger[a]]=0;
				`if(find(finger[a])==-1)
				`{
				``add(a-1);//Carry on the previous bit
				``finger[a]=find(0);//Find the smallest finger that is not used
				`}
				`else
				``finger[a]=find(finger[a]);
				`used[finger[a]]=1;
				}
				int main()
				{
				`int m;
				`scanf("%d%d",&amp;n,&amp;m);
				`for(int i=0;i&lt;n;i++)
				`{
				``scanf("%d",&amp;finger[i]);
				``used[finger[i]]=1;
				`}
				`for(int i=0;i&lt;m;i++)//To add m, just add 1 for m times
				``add(n-1);
				`for(int i=0;i&lt;n;i++)
				``printf("%d ",finger[i]);
				`return 0;
				}
			</code>
		</section>
		<script type="text/javascript" src="/add-on/article/article.js"></script>
		<script type="text/javascript" src="/add-on/highlight/highlight.js"></script>
		<script type="text/javascript" src="/add-on/math/math.js"></script>
	</body>
</html>
